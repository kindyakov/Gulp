---
order: 3
title: ftp.js
---

Файл `ftp.js` содержит задачу для загрузки файлов на FTP-сервер. Эта задача помогает автоматизировать процесс деплоя проекта на удаленный сервер через FTP.

#### Импорт модулей

```
import configFTP from "../config/ftp.cfg.js";
import vinylFTP from 'vinyl-ftp';
// import util from 'gulp-util';configFTP: Конфигурация FTP-сервера, импортируемая из файла ftp.cfg.js.
```

-  `vinyl-ftp`: Плагин для работы с FTP в Gulp.

-  `gulp-util` (закомментировано): Плагин для различных утилит Gulp (здесь не используется).

#### Задача `ftp`

Эта задача загружает файлы из директории сборки на FTP-сервер.

```
const ftp = () => {
  // configFTP.log = util.log;
  const ftpConnect = vinylFTP.create(configFTP);
  return (
    app.gulp.src(app.path.build.project)
      .pipe(app.plugins.notify.onError({
        title: 'JS',
        message: 'Error: <%= error.message %>'
      }))
      .pipe(ftpConnect.dest(`/${app.path.ftp}/${app.path.rootFolder}`))
  );
}

export default ftp;
```

### Подробное описание

-  `configFTP.log = util.log`: Закомментированная строка, которая могла бы использовать утилиту для логирования (не используется).

-  `vinylFTP.create(configFTP)`: Создает подключение к FTP-серверу с использованием конфигурации из `configFTP`.

-  `app.gulp.src(app.path.build.project)`: Выбирает файлы из директории сборки проекта.

-  `app.plugins.notify.onError`: Обрабатывает ошибки и выводит уведомления, если что-то пойдет не так.

-  `ftpConnect.dest`: Загружает выбранные файлы на указанный путь на FTP-сервере.

### Объяснение

-  **Цель**: Задача `ftp` предназначена для автоматизации загрузки файлов на FTP-сервер.

-  **Процесс**:

   1. Создается подключение к FTP-серверу с использованием конфигурации.

   2. Выбираются файлы из директории сборки проекта.

   3. Обрабатываются ошибки и выводятся уведомления в случае их возникновения.

   4. Файлы загружаются на FTP-сервер в указанный каталог.

### Пример использования

При запуске задачи `ftp` в Gulp, все файлы из директории сборки (например, `./dist/`) будут загружены на указанный FTP-сервер в директорию, указанную в конфигурации.